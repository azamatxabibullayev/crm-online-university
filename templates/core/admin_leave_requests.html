{% extends 'core/base.html' %}
{% block content %}
<h3>Pending Leave Requests</h3>
<table class="table table-bordered">
  <thead>
    <tr>
      <th>User</th>
      <th>Role</th>
      <th>Period</th>
      <th>Reason</th>
      <th>Submitted At</th>
      <th>Actions</th>
    </tr>
  </thead>
  <tbody>
    {% for leave in leaves %}
      <tr>
        <td>{{ leave.user.username }}</td>
        <td>{{ leave.user.get_role_display }}</td>
        <td>{{ leave.start_date }} to {{ leave.end_date }}</td>
        <td>{{ leave.reason|linebreaks }}</td>
        <td>{{ leave.submitted_at|date:"Y-m-d H:i" }}</td>
        <td>
          <a href="{% url 'leave_request_review' leave.id 'approve' %}" class="btn btn-sm btn-success">Approve</a>
          <a href="{% url 'leave_request_review' leave.id 'reject' %}" class="btn btn-sm btn-danger">Reject</a>
        </td>
      </tr>
    {% empty %}
      <tr><td colspan="6">No pending leave requests.</td></tr>
    {% endfor %}
  </tbody>
</table>
{% endblock %}
